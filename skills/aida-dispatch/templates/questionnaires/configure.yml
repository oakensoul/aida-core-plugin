---
# AIDA Project Configuration Questionnaire
#
# This questionnaire collects factual information about project intentions
# and offers to create/setup common project files and structure.
#
# IMPORTANT: These questions ask about project FACTS and INTENTIONS,
# not personal preferences. The answers describe how THIS PROJECT works.

questions:
  # Version control setup (if no VCS detected)
  - id: vcs_setup
    question: "This project doesn't use version control. Would you like to set it up?"
    type: choice
    options:
      - "Yes - Initialize Git repository"
      - "No - I'll set it up myself later"
      - "No - Not using version control"
    help: "Version control is essential for tracking changes and collaboration"
    conditional:
      when: "has_vcs == false"

  # README creation (if missing)
  - id: create_readme
    question: "This project doesn't have a README. Would you like to create one?"
    type: choice
    options:
      - "Yes - Create README.md with project template"
      - "Yes - Create README.rst (reStructuredText)"
      - "No - I'll create it myself later"
    help: "A README is essential for any project"
    conditional:
      when: "has_readme == false"

  # License (if missing)
  - id: create_license
    question: "This project doesn't have a LICENSE file. Would you like to add one?"
    type: choice
    options:
      - "Yes - MIT License"
      - "Yes - Apache 2.0"
      - "Yes - GPL v3"
      - "Yes - BSD 3-Clause"
      - "No - Proprietary/Closed source"
      - "No - I'll add it later"
    help: "A license clarifies how others can use your code"
    conditional:
      when: "has_license == false"

  # .gitignore (if using git but no .gitignore)
  - id: create_gitignore
    question: "You're using Git but don't have a .gitignore. Should I create one?"
    type: choice
    options:
      - "Yes - For {{ languages | default('general project') }}"
      - "No - I'll create it myself"
    help: "A .gitignore prevents committing unwanted files"
    conditional:
      when: "vcs == 'git' and has_gitignore == false"

  # Git worktree usage (if using git)
  - id: uses_worktrees
    question: "Does this project use git worktrees for branch management?"
    type: choice
    options:
      - "Yes - Each branch as separate worktree"
      - "Yes - Bare repo with all branches as sibling worktrees"
      - "No - Standard git checkout workflow"
    help: "Worktrees allow multiple branches checked out simultaneously"
    conditional:
      when: "vcs == 'git'"

  # Git branching model (if using git)
  - id: branching_model
    question: "What branching model does this project follow?"
    type: choice
    options:
      - "GitHub Flow (feature branches → main)"
      - "Git Flow (main, develop, feature, release, hotfix)"
      - "GitLab Flow (feature branches → main → environments)"
      - "Trunk-based (commit directly to main, short-lived branches)"
      - "Custom workflow"
      - "No specific model"
    help: "AIDA will suggest branch names and merge strategies based on this model"
    conditional:
      when: "vcs == 'git'"

  # Issue tracking system
  - id: issue_tracking
    question: "What issue tracking system does this project use?"
    type: choice
    options:
      - "GitHub Issues"
      - "GitHub Projects (project board)"
      - "JIRA/Atlassian"
      - "None - informal tracking only"
      - "Other (not supported - specify in conventions)"
    help: "AIDA provides native MCP integration for GitHub and JIRA/Atlassian"

  # GitHub Projects configuration (if using GitHub Projects)
  - id: github_project_config
    question: "What is your GitHub Projects board configuration?"
    type: multiline
    required: false
    help: |
      Examples:
      - "Organization: myorg, Project: My Project Board"
      - "User: username, Project: Personal Tasks"
      - "Repo-level project board"

      This helps AIDA interact with your project board via GitHub MCP.
    conditional:
      when: "issue_tracking == 'GitHub Projects (project board)'"

  # JIRA configuration (if using JIRA)
  - id: jira_config
    question: "What is your JIRA project key and URL?"
    type: multiline
    required: false
    help: |
      Examples:
      - "Project Key: PROJ, URL: https://mycompany.atlassian.net"
      - "Project Key: DEV"

      This helps AIDA format JIRA issue references correctly.
      Atlassian MCP available at: https://mcp.atlassian.com/v1/sse
    conditional:
      when: "issue_tracking == 'JIRA/Atlassian'"

  # Confluence usage (if using JIRA/Atlassian)
  - id: uses_confluence
    question: "Does this project use Confluence for documentation?"
    type: choice
    options:
      - "Yes - Configure Confluence spaces"
      - "No - Documentation in code repository only"
    help: "Atlassian MCP supports both JIRA and Confluence integration"
    conditional:
      when: "issue_tracking == 'JIRA/Atlassian'"

  # Confluence configuration (if using Confluence)
  - id: confluence_config
    question: "What Confluence spaces does this project use?"
    type: multiline
    required: false
    help: |
      Specify the Confluence spaces for this project. Common patterns:

      Examples:
      - "Team Space: Engineering"
      - "Project Space: PROJ - Project Name"
      - "Team Space: ENG, Project Space: PROJ-Docs"
      - "Documentation Space: Product Docs"
      - "Team Wiki: DevOps, Project: Infrastructure"

      This helps AIDA know where to suggest creating/updating documentation.
      Spaces are project-specific even if repeated across multiple projects.

      Atlassian MCP: https://mcp.atlassian.com/v1/sse
    conditional:
      when: "uses_confluence == 'Yes - Configure Confluence spaces'"

  # Documentation directory
  - id: docs_directory_setup
    question: "Where should project documentation be stored?"
    type: choice
    options:
      - "Create docs/ directory (standard convention)"
      - "Create doc/ directory (alternative)"
      - "Create documentation/ directory"
      - "In README.md only (no separate directory)"
    help: "AIDA will use this location when suggesting documentation updates"
    conditional:
      when: "has_docs_directory == false"

  # Changelog creation (if missing)
  - id: changelog_setup
    question: "This project doesn't have a changelog. Would you like to create one?"
    type: choice
    options:
      - "Yes - Create CHANGELOG.md (Keep a Changelog format)"
      - "Yes - Create HISTORY.md"
      - "Yes - Create RELEASES.md"
      - "No - Track changes in git commits only"
    help: "A changelog helps users track what's changed between versions"
    conditional:
      when: "has_changelog == false"

  # Changelog in README (if both exist)
  - id: changelog_in_readme
    question: "Should recent changelog entries be displayed in the README?"
    type: choice
    options:
      - "Yes - Show latest release notes"
      - "Yes - Show last 3 releases"
      - "No - Keep changelog separate"
    help: "Makes it easy for users to see what's new"
    conditional:
      when: "has_changelog == true and has_readme == true"

  # Docker setup
  - id: docker_setup
    question: "Would you like to use Docker for development/testing?"
    type: choice
    options:
      - "Yes - Create Dockerfile only"
      - "Yes - Create Dockerfile + docker-compose.yml"
      - "Yes - docker-compose.yml only (use existing base image)"
      - "No - No Docker needed"
    help: "Docker ensures consistent development environments"
    conditional:
      when: "uses_docker == false"

  # Docker Compose enhancement (if Dockerfile exists but no compose)
  - id: enhance_docker
    question: "This project has a Dockerfile. Would you like to add docker-compose.yml for local development?"
    type: choice
    options:
      - "Yes - Single service (just this app)"
      - "Yes - Multi-service (app + database + cache, etc.)"
      - "No - Dockerfile is sufficient"
    help: "docker-compose simplifies running multiple services together"
    conditional:
      when: "has_dockerfile == true and has_docker_compose == false"

  # Testing setup (if no tests detected)
  - id: testing_setup
    question: "Would you like to set up automated testing?"
    type: choice
    options:
      - "Yes - pytest (Python)"
      - "Yes - Jest (JavaScript/TypeScript)"
      - "Yes - Vitest (JavaScript/TypeScript)"
      - "Yes - RSpec (Ruby)"
      - "Yes - Go testing (Go)"
      - "No - Manual testing only"
      - "Not yet - will add later"
    help: "AIDA can create initial test structure and configuration"
    conditional:
      when: "has_tests == false"

  # CI/CD setup (if no CI detected)
  - id: ci_cd_setup
    question: "Would you like to set up CI/CD automation?"
    type: choice
    options:
      - "Yes - GitHub Actions (run tests, linting, build)"
      - "Yes - GitHub Actions (tests + auto-release)"
      - "Yes - GitLab CI"
      - "No - Manual testing and deployment"
      - "Not yet - will add later"
    help: "CI/CD automatically tests your code on every commit"
    conditional:
      when: "has_ci_cd == false and vcs == 'git'"

  # CONTRIBUTING guide (for projects with CI/CD)
  - id: create_contributing
    question: "Would you like to create a CONTRIBUTING.md guide?"
    type: choice
    options:
      - "Yes - Create contribution guidelines"
      - "No - Not needed"
    help: "Helps others understand how to contribute to the project"
    conditional:
      when: "has_contributing == false and (has_ci_cd == true or ci_cd_setup)"

  # Project-specific conventions (always ask)
  - id: project_conventions
    question: "What are the key conventions or patterns for this project?"
    type: multiline
    required: false
    help: |
      Examples:
      - "Use Redux for state management"
      - "All API calls go in /services directory"
      - "Feature flags required for new features"
      - "Follow Django coding style"
      - "Use SQLAlchemy for database access"

      This helps AIDA understand how to structure code for THIS specific project.

  # Code organization pattern
  - id: code_organization
    question: "How should code be organized in this project?"
    type: choice
    options:
      - "By feature/domain (recommended for most projects)"
      - "By layer/type (controllers, models, views)"
      - "Flat structure (simple projects)"
      - "Monorepo with multiple packages"
      - "Follow existing pattern"
    help: "AIDA will suggest file locations based on this organization style"

  # API documentation (for backend/library projects)
  - id: api_docs_intent
    question: "How should API/public interfaces be documented?"
    type: choice
    options:
      - "Inline docstrings/JSDoc only"
      - "OpenAPI/Swagger specification"
      - "Separate API documentation site"
      - "README examples only"
      - "Not applicable (no public API)"
    help: "AIDA will suggest documentation formats when you create new APIs"
    conditional:
      when: "project_type in ['Web application (backend)', 'Library or framework', 'CLI tool or utility']"
